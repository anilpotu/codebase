# =============================================================================
# grpc-enterprise-v3  â€”  production environment overrides
# =============================================================================

global:
  imageRegistry: "123456789.dkr.ecr.us-east-1.amazonaws.com"  # replace with real account ID
  imagePullPolicy: Always
  istio:
    enabled: true

istio:
  gateway:
    apiHost: api.enterprise.example.com
    grpcHost: grpc.enterprise.example.com
    tlsCredentialName: enterprise-tls-credential
  jwtIssuer: "grpc-enterprise-v3"
  tracing:
    provider: jaeger
    samplingPercentage: 10.0   # 10% sampling in prod for cost control
  rateLimiting:
    financial: 100
    health: 200
    social: 300
    grpc: 500

# Production replica counts match the existing k8s manifests
user-grpc-service:
  replicaCount: 3
  pdb:
    enabled: true
    minAvailable: 2
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: "1"
      memory: 1Gi

financial-service:
  replicaCount: 2
  pdb:
    enabled: true
    minAvailable: 1
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: "1"
      memory: 1Gi

health-service:
  replicaCount: 2
  pdb:
    enabled: true
    minAvailable: 1
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: "1"
      memory: 1Gi

social-service:
  replicaCount: 2
  pdb:
    enabled: true
    minAvailable: 1
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: "1"
      memory: 1Gi
